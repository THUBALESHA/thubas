<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Thubalesha Cash Loan Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f7f9fc; padding:20px; }
    header { display:flex; align-items:center; margin-bottom:20px; }
    header img { height:60px; margin-right:15px; }
    h1 { color:#004080; }
    .nav { background:#004080; padding:10px; border-radius:8px; margin-bottom:20px; }
    .nav a { color:white; text-decoration:none; margin:0 15px; font-weight:bold; }
    .nav a:hover { background:#0066cc; padding:6px 12px; border-radius:5px; }
    .calculator { background:#fff; padding:20px; border-radius:8px; box-shadow:0 0 6px #ccc; max-width:500px; margin:auto; }
    label { display:block; margin-top:10px; font-weight:bold; }
    input, select { width:100%; padding:8px; margin-top:5px; border:1px solid #ccc; border-radius:5px; }
    button { margin-top:15px; padding:10px 20px; background:#004080; color:white; border:none; border-radius:5px; cursor:pointer; }
    #result { margin-top:20px; font-size:18px; font-weight:bold; color:#004080; }
    footer { margin-top:30px; text-align:center; font-size:14px; color:#444; }
    footer a { color:#004080; text-decoration:none; }
  </style>
  <script>
    function calculateLoan() {
      const amount = document.getElementById("amount").value;
      const months = document.getElementById("months").value;
      const interestRate = 0.125; // 12.5% yearly interest
      const insurance = 36;

      // monthly interest rate
      const monthlyRate = interestRate / 12;

      // formula: EMI = P * r(1+r)^n / ((1+r)^n - 1)
      const emi = (amount * monthlyRate * Math.pow(1+monthlyRate, months)) /
                  (Math.pow(1+monthlyRate, months) - 1);

      const totalMonthly = (emi + insurance).toFixed(2);

      document.getElementById("result").innerHTML =
        `Monthly Repayment: R${totalMonthly}`;

      // Save to localStorage for PDF contract
      localStorage.setItem("loanAmount", amount);
      localStorage.setItem("loanMonths", months);
      localStorage.setItem("monthlyRepayment", totalMonthly);
    }
  </script>
</head>
<body>
  <header>
    <img src="thubaf.jpg" alt="Logo">
    <h1>Thubalesha Cash Loan Calculator</h1>
  </header>

  <div class="nav">
    <a href="index.html">Calculator</a>
    <a href="contract_form.html">Application Contract</a>
    <a href="terms_form.html">Terms & Conditions</a>
    <a href="comment_form.html">Comments</a>
    <a href="bank_form.html">Banking Info</a>
    <a href="contact.html">Contact Us</a>
  </div>

  <div class="calculator">
    <label for="amount">Loan Amount (R):</label>
    <input type="number" id="amount" min="100" required>

    <label for="months">Contract Length (months):</label>
    <select id="months">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="6">6</option>
      <option value="12">12</option>
      <option value="18">18</option>
      <option value="20">20</option>
    </select>

    <button onclick="calculateLoan()">Calculate</button>
    <div id="result"></div>
  </div>

  <footer>
    <p>ðŸ“§ Email: <a href="mailto:thubalesha0001@gmail.com">thubalesha0001@gmail.com</a> |
    ðŸ“± WhatsApp: <a href="https://wa.me/27787102337" target="_blank">078 710 2337</a> |
    â˜Ž Tel: 016 020 0040</p>
    <p>&copy; 2025 Thubalesha Cash Loan</p>
  </footer>
</body>
</html>